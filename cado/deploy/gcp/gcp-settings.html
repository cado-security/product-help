<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-cado/deploy/gcp/gcp-settings" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Set-up GCP for collection of data | Cado Security</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.cadosecurity.com/cado/deploy/gcp/gcp-settings"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="google-site-verification" content="j1fUKfw-LfBrYqXusMAoBbmCW8nSNobe8nOyfDl6xAY"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Set-up GCP for collection of data | Cado Security"><meta data-rh="true" name="description" content="You can acquire compute and storage resources from GCP with the Cado platform by"><meta data-rh="true" property="og:description" content="You can acquire compute and storage resources from GCP with the Cado platform by"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.cadosecurity.com/cado/deploy/gcp/gcp-settings"><link data-rh="true" rel="alternate" href="https://docs.cadosecurity.com/cado/deploy/gcp/gcp-settings" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.cadosecurity.com/cado/deploy/gcp/gcp-settings" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9BVXSKWB6Z"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-9BVXSKWB6Z",{})</script><link rel="stylesheet" href="/assets/css/styles.33fc834b.css">
<script src="/assets/js/runtime~main.6e75b7cb.js" defer="defer"></script>
<script src="/assets/js/main.4fbf1671.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cado.png" alt="Cado Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/cado-dark.png" alt="Cado Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"> </b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cado/intro">Cado</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/intro">What is Cado</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/cado/deploy/aws/cloudformation">Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/deploy/aws/cloudformation">AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/deploy/azure/azure-deploy">Azure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/cado/deploy/gcp/gcp-deploy">GCP</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-deploy">GCP Terraform deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cado/deploy/gcp/gcp-settings">Set-up GCP for collection of data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/endpoints">Endpoint access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-auto-setup">Automated Setup of GCP for data collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/data-encryption-overview">Platform Encryption in GCP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-cross-project">Cross-Project setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/iam-description">IAM permissions description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-architecture">Architecture in GCP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-nfs">NFS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-secret-mager">Secret Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/gcp/gcp-workers">Workers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/deploy/cross/intro">Cross cloud/account/project/subscription</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/logging-in">Log in</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/licenses">Get and apply a license</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/ports">Ports and network encryption</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/networking-proxy">Set up proxy access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/deploy/tag">Tagging Cado resources</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/discovery-import/intro">Import</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/integrations/api-overview">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/investigate/ctf-tutorial">Investigating</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cado/community-intro">Community edition</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/cado/manage/users-authentication/users">Manage</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/troubleshooting/get-support">Help and support</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/release-notes">Release Notes</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cado</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deployment</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">GCP</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Set-up GCP for collection of data</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to set up GCP for collection of data by Cado</h1>
<p>You can acquire compute and storage resources from GCP with the Cado platform by</p>
<ol>
<li>Setting up the primary GCP project for Cado collection</li>
<li>Setting up a Service Account in GCP</li>
<li>Entering credentials into Cado</li>
</ol>
<p>The below guide walks through this process.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This setup can be automated using our <a href="/cado/deploy/gcp/gcp-auto-setup">GCP Automated Setup</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-primary-google-project-for-cado-collection">Setting up the Primary Google Project for Cado collection<a href="#setting-up-the-primary-google-project-for-cado-collection" class="hash-link" aria-label="Direct link to Setting up the Primary Google Project for Cado collection" title="Direct link to Setting up the Primary Google Project for Cado collection">​</a></h2>
<p>In order to set up the project for Cado collection you need to</p>
<ul>
<li>Enable the Cloud Build API for the project</li>
<li>Define a bucket for the Primary GCP Project where images will be stored and imported into Cado.</li>
</ul>
<p><em><strong>Note - if you are importing from more than one Google project you will need to designate one of those projects as the Primary GCP Project and <a href="/cado/deploy/gcp/gcp-settings#defining-a-bucket-for-the-primary-gcp-project">create a bucket in that project</a> to enable collection across the multiple Google projects</strong></em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-cado-role">The Cado Role<a href="#the-cado-role" class="hash-link" aria-label="Direct link to The Cado Role" title="Direct link to The Cado Role">​</a></h3>
<p>To appropriately scope a service account for Cado to operate, creating a custom GCP role allows specifying individual permissions. To achieve this, navigate to the <strong>Role</strong> section under the <strong>IAM and Admin</strong> tab. Create a custom role and add the following permissions:</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you&#x27;re deploying into GCP, the Terraform script provided by Cado should have already created this role for you, prefixed with <strong>myCadoResponseRole</strong>.</p></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // Instance Acquisition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;cloudbuild.builds.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;cloudbuild.builds.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.use&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.useReadOnly&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.globalOperations.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.images.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.images.delete&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.images.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.getSerialPortOutput&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Compute Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.disks.setLabels&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.images.useReadOnly&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.attachDisk&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.delete&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.setLabels&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.setMetadata&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.setServiceAccount&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.machineTypes.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.machineTypes.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.regions.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.subnetworks.use&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.subnetworks.useExternalIp&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.networks.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.networks.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.zones.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.zoneOperations.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Platform Update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.addresses.use&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.addAccessConfig&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.detachDisk&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.instances.deleteAccessConfig&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // GKE Acquisition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;container.clusters.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;container.clusters.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;container.pods.exec&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;container.pods.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;container.pods.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // IAM &amp; Authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.actAs&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.enable&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.getAccessToken&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.getIamPolicy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.implicitDelegation&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;iam.serviceAccounts.signBlob&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Project Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;resourcemanager.projects.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;compute.projects.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Secret Management</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;secretmanager.versions.access&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;secretmanager.versions.add&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;secretmanager.secrets.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Bucket Acquisition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.buckets.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.buckets.list&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.objects.create&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.objects.delete&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.objects.get&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;storage.objects.list&quot;,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you&#x27;ll be wanting to use this Role across multiple projects, you can create it at the Organization level- this is required if you&#x27;ll be wanting to acquire assets from multiple projects under one service account.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If deploying into GCP, this can be done easily if the Terraform-created role already exists by using the command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud iam roles describe CUSTOM_ROLE_ID --project=YOUR_PROJECT_ID --format=yaml &gt; cado-organization-role.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will output the role to a yaml file, which can be edited to serve as a template for the new organization role. To edit the template for org use delete the &#x27;name&#x27; and &#x27;etag&#x27; sections, as these will be project specific, then use the command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud iam roles create CUSTOM_ORG_ROLE_ID --organization=YOUR_ORG_ID --file=cado-organization-role.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-the-cloud-build-api-for-the-project">Enabling the Cloud Build API for the project<a href="#enabling-the-cloud-build-api-for-the-project" class="hash-link" aria-label="Direct link to Enabling the Cloud Build API for the project" title="Direct link to Enabling the Cloud Build API for the project">​</a></h3>
<p>To enable Cloud Build API for a Google project, see the documentation at <a href="https://console.cloud.google.com/cloud-build/" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/cloud-build/</a>.</p>
<p>Once Cloud Build is enabled, a principal for Compute Engine will have been created in <strong>&#x27;IAM and Admin &gt; IAM&#x27;</strong> called <code>xxxxxxxxxxxx-compute@developer.gserviceaccount.com</code>, we also need this principal to have the custom role we created in the previous step <strong>&#x27;Customer -&gt; &lt;role_name&gt;&#x27;</strong>. Do this by editing the principal with the pen icon on the right and selecting the appropriate role.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="defining-a-bucket-for-the-primary-gcp-project">Defining a bucket for the Primary GCP Project<a href="#defining-a-bucket-for-the-primary-gcp-project" class="hash-link" aria-label="Direct link to Defining a bucket for the Primary GCP Project" title="Direct link to Defining a bucket for the Primary GCP Project">​</a></h3>
<p>Create a bucket in the project that will store the captured raw data from across all GCP projects. For more information <a href="https://cloud.google.com/storage/docs/creating-buckets" target="_blank" rel="noopener noreferrer">https://cloud.google.com/storage/docs/creating-buckets</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-a-service-account-in-primary-gcp-project">Setting up a Service Account in Primary GCP Project<a href="#setting-up-a-service-account-in-primary-gcp-project" class="hash-link" aria-label="Direct link to Setting up a Service Account in Primary GCP Project" title="Direct link to Setting up a Service Account in Primary GCP Project">​</a></h2>
<p>Next, you need to set up a Service Account in GCP. For information on how to do this more see:</p>
<ul>
<li><a href="https://console.cloud.google.com/iam-admin/serviceaccounts" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/iam-admin/serviceaccounts</a></li>
<li><a href="https://cloud.google.com/iam/docs/service-accounts" target="_blank" rel="noopener noreferrer">https://cloud.google.com/iam/docs/service-accounts</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-access">Required Access<a href="#required-access" class="hash-link" aria-label="Direct link to Required Access" title="Direct link to Required Access">​</a></h3>
<p>Both the Cado service account and the service account for the Cloud API need the custom role&#x27;s permissions &#x27;Custom -&gt; &lt;role_name&gt;&#x27; role:</p>
<p><img loading="lazy" alt="Custom Role" src="/assets/images/gcp-custom-role-9fd262ae34778b25bbdd9aa284b5c51c.png" width="1440" height="958" class="img_ev3q"></p>
<p>To import GKE containers, the Cado service account also needs the <code>iam.serviceAccounts.implicitDelegation</code> IAM permission.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-gcp-credentials">Getting GCP Credentials<a href="#getting-gcp-credentials" class="hash-link" aria-label="Direct link to Getting GCP Credentials" title="Direct link to Getting GCP Credentials">​</a></h3>
<p>When you add credentials to Cado you are creating a mapping from a set of credentials (in GCP json format) to a project name.</p>
<p>Any time a user then attempts to access that particular GCP project name, the credentials that you registered in settings will be used. This keeps non-admin users from having to managing credentials themselves, while also allowing access to as many different GCP projects as you want.</p>
<p>There are two ways to achieve this:</p>
<ol>
<li><strong>Service Account Credentials</strong> - this is a simpler but less secure approach. <em>Note - Cado running in Azure only supports the use of Service Account Credentials</em></li>
<li><strong>Workload Identity Federation</strong> - This requires more expertise but is the recommended, more secure approach.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-account-credentials">Service Account Credentials<a href="#service-account-credentials" class="hash-link" aria-label="Direct link to Service Account Credentials" title="Direct link to Service Account Credentials">​</a></h4>
<p>The simplest method to add GCP credentials to Cado is to use a service account, which will give you a permanent key. These are very sensitive credentials but they are easy to manage and simple to set up. Adding GCP credentials for service accounts is supported by Cado when deployed in both AWS and Azure.</p>
<p>GCP credentials come in a json format that wraps around a ‘regular’ credential. It can be treated as functionally no different to how you would handle any type of password or key.</p>
<p>For example, a service account key would come in a structure such as the below. The ‘credential’ is a literal RSA key as a string in the <code>private_key</code> field, all other fields are metadata for the benefit of the application that uses it:</p>
<p>{
&quot;type&quot;: &quot;service_account&quot;,
&quot;project_id&quot;: &quot;cool-project&quot;,
&quot;private_key_id&quot;: &quot;22c14ac5b63...&quot;,
&quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKg...wggSkA.\n-----END PRIVATE KEY-----\n&quot;,
&quot;client_email&quot;: &quot;cool-project.iam.gserviceaccount.com&quot;,
&quot;client_id&quot;: &quot;...&quot;,
&quot;auth_uri&quot;: &quot;<a href="https://accounts.google.com/o/oauth2/auth" target="_blank" rel="noopener noreferrer">https://accounts.google.com/o/oauth2/auth</a>&quot;,
&quot;token_uri&quot;: &quot;<a href="https://oauth2.googleapis.com/token" target="_blank" rel="noopener noreferrer">https://oauth2.googleapis.com/token</a>&quot;,
&quot;auth_provider_x509_cert_url&quot;: &quot;<a href="https://www.googleapis.com/oauth2/v1/certs" target="_blank" rel="noopener noreferrer">https://www.googleapis.com/oauth2/v1/certs</a>&quot;,
&quot;client_x509_cert_url&quot;: &quot;...&quot;
}</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="workload-identity-federation">Workload Identity Federation<a href="#workload-identity-federation" class="hash-link" aria-label="Direct link to Workload Identity Federation" title="Direct link to Workload Identity Federation">​</a></h4>
<p>The GCP recommended best practice, is to use Workload Identity Federation, which allows credentials from another app to impersonate a GCP account. <em>Note: Cado running in Azure does not support Workload Identity Federation credentials to import from GCP</em></p>
<p>Workload Identity Federation is more secure since the credentials are nothing but metadata telling the app where to go, while the validation is handled on the server side. Adding GCP credentials via Workload Identity Federation is currently only supported for Cado when deployed in AWS.</p>
<p>Rather than give out the key to a service account, you instead register the permission with GCP to allow AWS credentials for account <code>123</code> to act as if they were the given GCP service account.</p>
<p>You can download existing credentials by clicking the display name of the <strong>Identity Pool &gt; Connected Service Accounts &gt; Download</strong>, which will then ask you which identity’s credentials you would like to download.</p>
<p>For example:</p>
<p>{
&quot;type&quot;: &quot;external_account&quot;,
&quot;audience&quot;: &quot;//iam.googleapis.com/projects/...&quot;,
&quot;subject_token_type&quot;: &quot;urn:ietf:params:aws:token-type<!-- -->:aws4_request<!-- -->&quot;,
&quot;service_account_impersonation_url&quot;: &quot;<a href="https://...ount.comgenerateAccessToken" target="_blank" rel="noopener noreferrer">https://...ount.comgenerateAccessToken</a>&quot;,<!-- -->
&quot;token_url&quot;: &quot;<a href="https://sts.googleapis.com/v1/token" target="_blank" rel="noopener noreferrer">https://sts.googleapis.com/v1/token</a>&quot;,
&quot;credential_source&quot;: {
&quot;environment_id&quot;: &quot;...&quot;,
&quot;region_url&quot;: &quot;<a href="http://169.254.169.254/latest/meta-data/placement/availability-zone" target="_blank" rel="noopener noreferrer">http://169.254.169.254/latest/meta-data/placement/availability-zone</a>&quot;,
&quot;url&quot;: &quot;<a href="http://169.254.169.254/latest/meta-data/iam/security-credentials" target="_blank" rel="noopener noreferrer">http://169.254.169.254/latest/meta-data/iam/security-credentials</a>&quot;,
&quot;regional_cred_verification_url&quot;: &quot;<a href="https://sts.%7Bregion%7D.amazonaws.com?Action=GetCallerIdentity&amp;Version=2011-06-15" target="_blank" rel="noopener noreferrer">https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&amp;Version=2011-06-15</a>&quot;
}
}</p>
<p>For more information about GCP Workload Identity Federation see:</p>
<ul>
<li><a href="https://console.cloud.google.com/iam-admin/workload-identity-pools" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/iam-admin/workload-identity-pools</a></li>
<li><a href="https://cloud.google.com/iam/docs/workload-identity-federation" target="_blank" rel="noopener noreferrer">https://cloud.google.com/iam/docs/workload-identity-federation</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="entering-settings">Entering Settings<a href="#entering-settings" class="hash-link" aria-label="Direct link to Entering Settings" title="Direct link to Entering Settings">​</a></h2>
<p>You can add GCP Credentials to Cado in the <strong>Settings &gt; Cloud &gt; GCP</strong> page.
You will be asked for a &quot;GCP Project Name&quot; and the &quot;GCP Credentials&quot;. These credentials will be a JSON either directly containing the service account credentials, or the Workload Identity Federation credentials</p>
<p><img loading="lazy" alt="GCP Credentials" src="/assets/images/gcp-credentials-816d3bf0d3bb101ce25c109263ae445e.png" width="537" height="305" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="collecting-from-multiple-gcp-projects">Collecting from multiple GCP Projects<a href="#collecting-from-multiple-gcp-projects" class="hash-link" aria-label="Direct link to Collecting from multiple GCP Projects" title="Direct link to Collecting from multiple GCP Projects">​</a></h2>
<p>After setting up your Primary GCP Project, to collect from multiple GCP projects follow the instructions in <a href="/cado/deploy/gcp/gcp-cross-project">GCP Cross-Project Setup</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/cado-security/product-help/tree/master/docs/cado/deploy/gcp/gcp-settings.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-12-23T15:45:28.000Z">Dec 23, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cado/deploy/gcp/gcp-deploy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GCP Terraform deployment</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cado/deploy/gcp/endpoints"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Endpoint access</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-the-primary-google-project-for-cado-collection" class="table-of-contents__link toc-highlight">Setting up the Primary Google Project for Cado collection</a><ul><li><a href="#the-cado-role" class="table-of-contents__link toc-highlight">The Cado Role</a></li><li><a href="#enabling-the-cloud-build-api-for-the-project" class="table-of-contents__link toc-highlight">Enabling the Cloud Build API for the project</a></li><li><a href="#defining-a-bucket-for-the-primary-gcp-project" class="table-of-contents__link toc-highlight">Defining a bucket for the Primary GCP Project</a></li></ul></li><li><a href="#setting-up-a-service-account-in-primary-gcp-project" class="table-of-contents__link toc-highlight">Setting up a Service Account in Primary GCP Project</a><ul><li><a href="#required-access" class="table-of-contents__link toc-highlight">Required Access</a></li><li><a href="#getting-gcp-credentials" class="table-of-contents__link toc-highlight">Getting GCP Credentials</a></li></ul></li><li><a href="#entering-settings" class="table-of-contents__link toc-highlight">Entering Settings</a></li><li><a href="#collecting-from-multiple-gcp-projects" class="table-of-contents__link toc-highlight">Collecting from multiple GCP Projects</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/cadosecurity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/cado-security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 | Cado Security</div></div></div></footer></div>
</body>
</html>