<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-163801898-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Tines | Cado Security</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://cado-security.github.io/docs/cado-response/integrations/tines"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tines | Cado Security"><meta data-react-helmet="true" name="description" content="Tines is a no-code automation platform for security analysts. Tines allows analysts to spend less time on routine repetitive tasks and allow them to focus on those areas where they can have the most impact. The tools feature pre-configured integrations with a variety of business and security tools, but for more sophisticated users, it also features the ability to hook into any publicly available API, including the Cado API."><meta data-react-helmet="true" property="og:description" content="Tines is a no-code automation platform for security analysts. Tines allows analysts to spend less time on routine repetitive tasks and allow them to focus on those areas where they can have the most impact. The tools feature pre-configured integrations with a variety of business and security tools, but for more sophisticated users, it also features the ability to hook into any publicly available API, including the Cado API."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cado-security.github.io/docs/cado-response/integrations/tines"><link data-react-helmet="true" rel="alternate" href="https://cado-security.github.io/docs/cado-response/integrations/tines" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cado-security.github.io/docs/cado-response/integrations/tines" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f76486d1.css">
<link rel="preload" href="/assets/js/runtime~main.5b989c3c.js" as="script">
<link rel="preload" href="/assets/js/main.8f4a4d40.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cado.png" alt="Cado Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/cado-dark.png" alt="Cado Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title"> </b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE" style="margin-left:2px">ðŸŒ™</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE" style="margin-left:1px">â˜€</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cado Response</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cado-response/intro">Summary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Projects and Users</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Importing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Investigating</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Settings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Integrations</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cado-response/integrations/api-overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cado-response/integrations/siem">SIEM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cado-response/integrations/sentinelone">SentinelOne</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cado-response/integrations/tines">Tines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cado-response/integrations/splunk-soar">Splunk SOAR</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Single Sign On</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Cado Host</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tines Integration</h1></header><p>Tines is a no-code automation platform for security analysts. Tines allows analysts to spend less time on routine repetitive tasks and allow them to focus on those areas where they can have the most impact. The tools feature pre-configured integrations with a variety of business and security tools, but for more sophisticated users, it also features the ability to hook into any publicly available API, including the Cado API.</p><p>By using the Cado Response integration with Tines, we&#x27;re allowing security analysts to quickly automate Incident Response and allow them to quickly respond to attacks for further investigation in the Cado Response platform. The Tines and Cado Response integration is easy to use, just search for <strong>Cado Security</strong> in the Public Templates repository, choose, and then drag and drop.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>If you&#x27;re confused by the terminology mentioned here, or have never used Tines before, please consider checking out the <a href="https://hub.tines.com/docs/quickstart" target="_blank" rel="noopener noreferrer">Tines documentation</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="getting-started-with-tines">Getting Started with Tines<a aria-hidden="true" class="hash-link" href="#getting-started-with-tines" title="Direct link to heading">â€‹</a></h2><p>Before properly getting started please see the following for general instructions on setting up the Cado Response platform for integrating with third-party tools:</p><p><strong><a href="/docs/cado-response/integrations/api-overview">Integrations Overview &gt;</a></strong></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="contents">Contents<a aria-hidden="true" class="hash-link" href="#contents" title="Direct link to heading">â€‹</a></h3><ol><li><strong><a href="#creating-and-storing-an-api-access-key">Creating and Storing an API Access Key</a></strong></li><li><strong><a href="#adding-your-platform-base-url">Adding your Platform Base URL</a></strong></li><li><strong><a href="#adding-default-values">Adding Default Values</a></strong></li><li><strong><a href="#testing-your-settings">Testing your Settings</a></strong></li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="creating-and-storing-an-api-access-key">Creating and Storing an API Access Key<a aria-hidden="true" class="hash-link" href="#creating-and-storing-an-api-access-key" title="Direct link to heading">â€‹</a></h3><p>Cado Response allows you to create an API Access Key that allows third-party services to authenticate and interact with a Cado Response instance; you&#x27;ll need to create one in order to use Tines with Cado Response.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Please see <strong><a href="/docs/cado-response/integrations/api-overview#creating-and-storing-an-api-access-key">Creating and Storing an API Access Key</a></strong> to learn how to create the API Access Key.</p></div></div><p>In order to add the Secret Key to Tines, you&#x27;ll need to open your Tines Dashboard, and go to the <strong>Credentials</strong> page. Add a new <strong>Text Credential</strong> and name it <code>CadoResponse_APIKey</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It&#x27;s important to name all credentials and resources mentioned in the tutorial as given, or else the Actions we provide won&#x27;t be able to interact with the Cado API.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="adding-your-platform-base-url">Adding your Platform Base URL<a aria-hidden="true" class="hash-link" href="#adding-your-platform-base-url" title="Direct link to heading">â€‹</a></h3><p>To tell Tines the Platform Base URL of a Cado Response instance, you&#x27;ll need to add it as a Resource. In order to do this, you&#x27;ll need to open your Tines Dashboard, and go to the <strong>Resources</strong> page. Click the <strong>New Resource</strong> button and name it <code>Cadoresponse_URL</code> and paste the Platform Base URL into the builder.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="adding-default-values">Adding Default Values<a aria-hidden="true" class="hash-link" href="#adding-default-values" title="Direct link to heading">â€‹</a></h3><p>The actions we provide allow you to set default fallback values, in case a form doesn&#x27;t get filled in properly, or if an analyst misconfigures an action. To add these values, simply create three Resources with the following names:</p><table><thead><tr><th>Resource Name</th><th>Type</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td><code>CadoResponse_Default_Project_ID</code></td><td>Integer</td><td>1</td><td>A numerical value that denotes a project in Cado Response.</td></tr><tr><td><code>CadoResponse_Default_Region</code></td><td>String</td><td>us-east-1</td><td>A valid name of an AWS region.</td></tr><tr><td><code>CadoResponse_Default_S3_Bucket</code></td><td>String</td><td>bucket_name</td><td>A name of a valid and accessible S3 bucket.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_31ik" id="testing-your-settings">Testing your Settings<a aria-hidden="true" class="hash-link" href="#testing-your-settings" title="Direct link to heading">â€‹</a></h3><p>To make sure you&#x27;ve done all the following steps correctly, please follow along with the following test procedure:</p><ol><li>Create a new story in Tines through the Tines Dashboard.</li><li>Drag the <strong>List Cado Response Projects</strong> HTTP Request template from the <strong>Public Templates</strong> repository in the left-hand sidebar.</li><li>Click the new action and click <strong>Run</strong>.</li><li>Check the <strong>Action Events</strong> for a <code>200 OK</code> HTTP code.</li></ol><p>If the following was successful, then you&#x27;ve correctly setup Tines to interact with the Cado Response API.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="list-of-actions">List of Actions<a aria-hidden="true" class="hash-link" href="#list-of-actions" title="Direct link to heading">â€‹</a></h2><p>Actions are the basic actions that can be chained together in <em>Stories</em>, which are playbooks that can be run to perform a specific task or workflow.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>All the list actions are available in the Tines Public Templates repository. Just search for <strong>Cado Security</strong>, choose the action and drag and drop.</p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="contents-1">Contents<a aria-hidden="true" class="hash-link" href="#contents-1" title="Direct link to heading">â€‹</a></h3><ol><li><strong><a href="#list-ec2-instances">List EC2 Instances</a></strong></li><li><strong><a href="#list-s3-buckets">List S3 Buckets</a></strong></li><li><strong><a href="#list-projects">List Projects</a></strong></li><li><strong><a href="#list-project-pipelines">List Project Pipelines</a></strong></li><li><strong><a href="#create-a-project">Create a Project</a></strong></li><li><strong><a href="#retrieve-a-pipeline">Retrieve a Pipeline</a></strong></li><li><strong><a href="#acquire-a-disk-image-from-ec2">Acquire a Disk Image From EC2</a></strong></li><li><strong><a href="#acquire-a-disk-image-from-s3">Acquire a Disk Image From S3</a></strong></li></ol><p><img alt="Tines Actions for the Cado Response API" src="/assets/images/tines-actions-5174c3c023f735b4b45782747ac4af44.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="list-ec2-instances">List EC2 Instances<a aria-hidden="true" class="hash-link" href="#list-ec2-instances" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>List EC2 Instances in Cado Response</code></li><li>Description: This action will allow you to list all the EC2 instances in an AWS region.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/ec2</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-default-url">Changing the Default URL<a aria-hidden="true" class="hash-link" href="#changing-the-default-url" title="Direct link to heading">â€‹</a></h4><p>As this API endpoint requires a <strong>Project ID</strong> you&#x27;ll need to change the URL field to reflect this by changing the <code>.projectID</code> placeholder with a valid Project ID from Cado Response.</p><p>For example <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/ec2</code> would become: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/2/imports/ec2</code> for Project ID 2.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters">Changing the Payload Parameters<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters" title="Direct link to heading">â€‹</a></h4><p>You&#x27;ll also need to adjust the <code>region</code> parameter in the <strong>Payload</strong> to the valid AWS region you want to see instances listed in.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="list-s3-buckets">List S3 Buckets<a aria-hidden="true" class="hash-link" href="#list-s3-buckets" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>List S3 Buckets in Cado Response</code></li><li>Description: This action will allow you to list all the S3 buckets in an AWS account.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/s3</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-default-url-1">Changing the Default URL<a aria-hidden="true" class="hash-link" href="#changing-the-default-url-1" title="Direct link to heading">â€‹</a></h4><p>As this API endpoint requires a <strong>Project ID</strong> you&#x27;ll need to change the URL field to reflect this by changing the <code>.projectID</code> placeholder with a valid Project ID from Cado Response.</p><p>For example <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/s3</code> would become: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/2/imports/s3</code> for Project ID 2.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="list-projects">List Projects<a aria-hidden="true" class="hash-link" href="#list-projects" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>List Cado Response Projects</code></li><li>Description: This action will allow you to list all the projects in Cado Response.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects</code></li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="list-project-pipelines">List Project Pipelines<a aria-hidden="true" class="hash-link" href="#list-project-pipelines" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>List Pipelines for a Cado Response Project</code></li><li>Description: This action will allow you to list all the pipelines for a given project in Cado Response.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/tasks/pipelines</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters-1">Changing the Payload Parameters<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters-1" title="Direct link to heading">â€‹</a></h4><p>You&#x27;ll need to change the <code>project_id</code> parameter in the <strong>Payload</strong> to a valid Cado Response Project ID.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="create-a-project">Create a Project<a aria-hidden="true" class="hash-link" href="#create-a-project" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>Create a new Project in Cado Response</code></li><li>Description: This action will allow you to create a new project in Cado Response.</li><li>Default URL: <code>https://{.RESOURCE.cadoresponse_url}}/api/v2/projects</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters-">Changing the Payload Parameters-<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters-" title="Direct link to heading">â€‹</a></h4><p>In the <strong>Payload</strong> section you need to change the <code>caseName</code> parameter to the name of the project you desire. You can also change the <code>description</code> parameter to add a description to your project, or remove it if you don&#x27;t need one. If you don&#x27;t add the <code>caseName</code> parameter, the action will default to the current UNIX timestamp as the project name. All projects created through Tines will include the <code>_TinesProject</code> suffix.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="extracting-the-return-value">Extracting the Return Value<a aria-hidden="true" class="hash-link" href="#extracting-the-return-value" title="Direct link to heading">â€‹</a></h4><p>This action will return the newly created Project ID in the response body. You can use an <strong>Event Transform</strong> action with the following settings:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;extract&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;matchers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .create_a_new_project_in_cado_response.body.id}}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;regexp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\d*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;created_project_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can then retrieve the value from other actions using the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly liquid"><pre tabindex="0" class="prism-code language-liquid codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{{ .get_new_project_id.created_project_id | first }}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where <code>get_new_project_id</code> is the name of the appropriate Event Transform action in Liquid syntax.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="retrieve-a-pipeline">Retrieve a Pipeline<a aria-hidden="true" class="hash-link" href="#retrieve-a-pipeline" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>Get Details for a Pipeline in Cado Response</code></li><li>Description: This action will retrieve the details of a specific pipeline, including all subtasks.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/tasks/pipelines</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters--1">Changing the Payload Parameters-<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters--1" title="Direct link to heading">â€‹</a></h4><p>You&#x27;ll need to change the <code>project_id</code> parameter in the <strong>Payload</strong> to a valid Cado Response Project ID.</p><p>You&#x27;ll need to change the <code>pipeline_id</code> parameter in the <strong>Payload</strong> to a valid Pipeline ID (see <strong>Acquisition</strong> for more on how to retrieve a Pipeline ID)</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="acquire-a-disk-image-from-ec2">Acquire a Disk Image From EC2<a aria-hidden="true" class="hash-link" href="#acquire-a-disk-image-from-ec2" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: <code>Trigger an EC2 Disk Acquisition in Cado Response</code></li><li>Description: This action will trigger a disk image acquisition task in Cado Response for a specified EC2 instance.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/ec2</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-default-url-2">Changing the Default URL<a aria-hidden="true" class="hash-link" href="#changing-the-default-url-2" title="Direct link to heading">â€‹</a></h4><p>As this API endpoint requires a <strong>Project ID</strong> you&#x27;ll need to change the URL field to reflect this by changing the <code>.projectID</code> placeholder with a valid Project ID from Cado Response.</p><p>For example <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/ec2</code> would become: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/2/imports/ec2</code> for Project ID 2.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters--2">Changing the Payload Parameters-<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters--2" title="Direct link to heading">â€‹</a></h4><p>You&#x27;ll need to change the <code>instance_id</code> and <code>region</code> parameters in the <strong>Payload</strong> to the appropriate values of the EC2 instance you want to acquire.</p><p>You can include the following optional parameter <code>bucket</code> in the <strong>Payload</strong> to change which S3 bucket the disk image is uploaded to.</p><p>Likewise, you can also provide the following optional parameters in the <strong>Payload</strong> to change the way Cado Response will acquire the disk image. These are the options and their default values:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;compress&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_disks&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_hash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_logs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_screenshot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_31ik" id="extracting-the-return-value-1">Extracting the Return Value<a aria-hidden="true" class="hash-link" href="#extracting-the-return-value-1" title="Direct link to heading">â€‹</a></h4><p>This action will return the newly created Pipeline ID in the response body. You can use an <strong>Event Transform</strong> action with the following settings:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;extract&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;matchers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .trigger_an_ec2_disk_acquisition_in_cado_response.body.pipeline_id}} }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;regexp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\d*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;created_pipeline_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can then retrieve the value from other actions using the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly liquid"><pre tabindex="0" class="prism-code language-liquid codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{{ .get_new_pipeline_id.created_pipeline_id | first }}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where <code>get_new_pipeline_id</code> is the name of the appropriate Event Transform action in Liquid syntax.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="acquire-a-disk-image-from-s3">Acquire a Disk Image From S3<a aria-hidden="true" class="hash-link" href="#acquire-a-disk-image-from-s3" title="Direct link to heading">â€‹</a></h3><ul><li>Template Name: `Trigger an S3 Disk Acquisition in Cado Response</li><li>Description: This action will trigger a disk image acquisition task in Cado Response from a file in a S3 Bucket.</li><li>Default URL: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/s3</code></li></ul><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-default-url-3">Changing the Default URL<a aria-hidden="true" class="hash-link" href="#changing-the-default-url-3" title="Direct link to heading">â€‹</a></h4><p>As this API endpoint requires a <strong>Project ID</strong> you&#x27;ll need to change the URL field to reflect this by changing the <code>.projectID</code> placeholder with a valid Project ID from Cado Response.</p><p>For example <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{ .projectID | default: .RESOURCE.cadoresponse_default_project_id }}/imports/s3</code> would become: <code>https://{{.RESOURCE.cadoresponse_url}}/api/v2/projects/2/imports/s3</code> for Project ID 2.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="changing-the-payload-parameters--3">Changing the Payload Parameters-<a aria-hidden="true" class="hash-link" href="#changing-the-payload-parameters--3" title="Direct link to heading">â€‹</a></h4><p>You&#x27;ll need to change the <code>bucket</code> and <code>file_name</code> parameters in the <strong>Payload</strong> to the appropriate values of the file in the S3 bucket you want to acquire and process.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="extracting-the-return-value-2">Extracting the Return Value<a aria-hidden="true" class="hash-link" href="#extracting-the-return-value-2" title="Direct link to heading">â€‹</a></h4><p>This action will return the newly created Pipeline ID in the response body. You can use an <strong>Event Transform</strong> action with the following settings:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;extract&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;matchers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .trigger_an_s3_disk_acquisition_in_cado_response.body.pipelines[0].pipeline_id}} }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;regexp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\d*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;created_pipeline_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can then retrieve the value from other actions using the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly liquid"><pre tabindex="0" class="prism-code language-liquid codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">{{ .get_new_pipeline_id.created_pipeline_id | first }}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where <code>get_new_pipeline_id</code> is the name of the appropriate Event Transform action in Liquid syntax.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="creating-a-story-acquiring-an-ec2-instance">Creating a Story: Acquiring an EC2 Instance<a aria-hidden="true" class="hash-link" href="#creating-a-story-acquiring-an-ec2-instance" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If you have a good grasp of the basics of Tines, feel free to skip this section.</p></div></div><p><img alt="Tines Example Story for Acquiring an EC2 Instance" src="/assets/images/tines-story-de36b629830df72c430b4b1a77f23516.png"></p><p>This section covers a quick tutorial in creating a basic workflow (or story in Tines terms) that:</p><ul><li>Allows users to specify details in a form</li><li>Creates a new Project</li><li>Triggers an EC2 Disk Acquisition</li><li>Loops over a pipeline until it has been terminated</li><li>Emails the user a success message</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can download the finished story example here: <strong> <a href="https://cado-public.s3.amazonaws.com/integrations/cado-response-tines-story.json" target="_blank" rel="noopener noreferrer">Cado Response Basic Story: Create a Project and Acquire EC2 Disk &gt;</a> </strong></p></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="contents-2">Contents<a aria-hidden="true" class="hash-link" href="#contents-2" title="Direct link to heading">â€‹</a></h3><ol><li><strong><a href="#list-ec2-instances">List EC2 Instances</a></strong></li><li><strong><a href="#list-s3-buckets">List S3 Buckets</a></strong></li><li><strong><a href="#list-projects">List Projects</a></strong></li><li><strong><a href="#list-project-pipelines">List Project Pipelines</a></strong></li><li><strong><a href="#create-a-project">Create a Project</a></strong></li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="creating-the-form">Creating the Form<a aria-hidden="true" class="hash-link" href="#creating-the-form" title="Direct link to heading">â€‹</a></h3><p><img alt="Tines Example Form for Acquiring an EC2 Instance" src="/assets/images/tines-form-47a5eecdbda685957aa11d9f64a5df92.png"></p><p>To create a form in Tines, head to the story editor and click the <strong>Form</strong> tab. Using the sidebar, add 4 text fields:</p><ul><li>One for the new Project Name. Name this field <code>Project Name</code> and make it required.</li><li>One for the EC2 Instance ID. Name this field <code>EC2 Instance ID</code> and make it required.</li><li>One for the EC2 Instance Region. Name this field <code>EC2 Instance Region</code> and make it required.</li><li>One fort the email address of the user. Name this field <code>Email Address</code> and make it required.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>We&#x27;ll use these values throughout the rest of this tutorial, so make sure the names match as above.</p></div></div><p>Go back to the <strong>Story</strong> tab inside the story editor and drag a new <strong>Webhook</strong> action to the story. Change its name to <code>EC2 Webhook</code>. After this, go back into the <strong>Form</strong> tab and change the <strong>Receiving Action</strong> in the sidebar to <code>EC2 Webhook</code>. This will allow your story to retrieve values from the form.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="action-creating-the-project">Action: Creating the Project<a aria-hidden="true" class="hash-link" href="#action-creating-the-project" title="Direct link to heading">â€‹</a></h3><p>Return to the <strong>Story</strong> tab inside the story editor, and drag a <strong>Create a new Project in Cado Response</strong> action from the <strong>Public Templates</strong> repository in the left-hand sidebar and create a connection from the <strong>EC2 Webhook</strong> action to it.</p><p>Modify the <strong>Payload</strong> section to match the following: <em>(It may be easier to switch to the Plain Code view and paste this in)</em></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;caseName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{.ec2_webhook.body.project_name | default: \&quot;now\&quot; | date: \&quot;%s\&quot; | append: \&quot;_TinesProject\&quot; }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON code will retrieve the project name from the form, and will send it to the Cado Response API. You can optionally add the <code>description</code> parameter to the <strong>Payload</strong> to give your new project a description.</p><p>This action will return the newly created Project ID in the response body. In order to retrieve this value, we need to use an <strong>Event Transform</strong> which allow us to modify, extract and process responses and data from events. Drag an <strong>Event Transform</strong> action and name it <code>Get Project ID</code>. Create a connection from the <strong>Create a new Project in Cado Response</strong> action to it. Then modify the <strong>Editor</strong> section to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;extract&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;matchers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .create_a_new_project_in_cado_response.body.id}}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;regexp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\d*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;created_project_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON will extract the Project ID from the previous response, and will store it in the <code>{{ .get_project_id.created_project_id | first }}</code> variable.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="action-triggering-a-ec2-acquisition">Action: Triggering a EC2 Acquisition<a aria-hidden="true" class="hash-link" href="#action-triggering-a-ec2-acquisition" title="Direct link to heading">â€‹</a></h3><p>Drag a <strong>Trigger an EC2 Disk Acquisition in Cado Response</strong> action from the <strong>Public Templates</strong> repository in the left-hand sidebar and create a connection from the <strong>Get Project ID</strong> action.</p><p>Modify the <strong>URL</strong> to the following: <code>{{.RESOURCE.cadoresponse_url}}/api/v2/projects/{{.get_project_id.created_project_id | first }}/imports/ec2</code> to use the Project ID that was generated earlier on in the workflow.</p><p>Modify the <strong>Payload</strong> section to match the following: <em>(It may be easier to switch to the Plain Code view and paste this in)</em></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;compress&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_disks&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_hash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;false&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_logs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;include_screenshot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;instance_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{.ec2_webhook.body.ec2_instance_id}}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;bucket&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .bucket | default: .RESOURCE.cadoresponse_default_s3_bucket }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;region&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{.ec2_webhook.body.ec2_instance_region}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Change BUCKET_NAME into the code into an appropriate S3 bucket!</p></div></div><p>This JSON code will tell Cado Response to acquire the disk from the EC2 instance described in the form, using the default acquisition settings.</p><p>This action will return the newly created Pipeline ID in the response body. In order to retrieve this value, drag an <strong>Event Transform</strong> action and name it <code>Get Pipeline ID</code>. Create a connection from the <strong>Trigger an EC2 Disk Acquisition in Cado Response</strong> action to it. Then modify the <strong>Editor</strong> section to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;extract&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;matchers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .trigger_an_ec2_disk_acquisition_in_cado_response.body.pipeline_id}} }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token property" style="color:#36acaa">&quot;regexp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\d*&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;created_pipeline_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON will extract the Pipeline ID from the previous response, and will store it in the <code>{{ .get_pipeline_id.created_pipeline_id | first }}</code> variable.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="action-looping-over-pipeline-status">Action: Looping over Pipeline Status<a aria-hidden="true" class="hash-link" href="#action-looping-over-pipeline-status" title="Direct link to heading">â€‹</a></h3><p>This is the most complicated part of this example, as it requires a loop, which we can achieve by using two <strong>Trigger</strong> actions. First, drag a <strong>Get Details for a Pipeline in Cado Response</strong> action from the <strong>Public Templates</strong> repository in the left-hand sidebar and create a connection from the <strong>Get Pipeline ID</strong> action.</p><p>Modify the <strong>Payload</strong> section to match the following: <em>(It may be easier to switch to the Plain Code view and paste this in)</em></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;project_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{.get_project_id.created_project_id | first }}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;pipeline_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .get_new_pipeline_id.created_pipeline_id | first }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON code will retrieve the new Project and Pipeline ID and will tell Cado Response which Pipeline we need to retrieve.</p><p>In order to create a loop, we need to drag two <strong>Trigger</strong> actions to the story. Name one <code>Check if Pipeline is Terminated</code>, and the other <code>Check if Pipeline isn&#x27;t Terminated</code>. Create a connection from the <strong>Get Details for a Pipeline in Cado Response</strong> action for each of them.</p><p>In the <strong>Check if Pipeline is Terminated</strong> action, modify the <strong>Editor</strong> section to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;regex&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .get_details_for_a_pipeline_in_cado_response.body[0].terminated }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON code will check if the pipeline has the <code>terminated</code> flag set to <code>true</code>. Meaning the pipeline has finished.</p><p>In the <strong>Check if Pipeline isn&#x27;t Terminated</strong> action, modify the <strong>Editor</strong> section to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;rules&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;regex&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;false&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .get_details_for_a_pipeline_in_cado_response.body[0].terminated }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This JSON code will check if the pipeline has the <code>terminated</code> flag set to <code>false</code>. Meaning the pipeline hasn&#x27;t finished.</p><p>Once you have done that, we can re-trigger the <strong>Get Details for a Pipeline in Cado Response</strong> by dragging an <strong>Event Transform</strong> action to the story and making a connection from the <strong>Check if Pipeline isn&#x27;t Terminated</strong> action to it. Then you can modify the <strong>Editor</strong> to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mode&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;delay&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will stop execution for 60 seconds, and by creating a connection from it back to the <strong>Get Details for a Pipeline in Cado Response</strong> action, we can effectively create a looping function. However, every good loop must have an exit condition, which is the role of <strong>Check if Pipeline is Terminated</strong>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="action-sending-an-email">Action: Sending an Email<a aria-hidden="true" class="hash-link" href="#action-sending-an-email" title="Direct link to heading">â€‹</a></h3><p>Once the Pipeline has finished, we&#x27;ll want to email the user saying the pipeline has finished. To do this, drag an <strong>Email</strong> action from the sidebar to the story and make a connection from the <strong>Check if Pipeline is Terminated</strong> action. Once done, modify the <strong>Editor</strong> to match the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><pre tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;recipients&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{.ec2_webhook.body.email_address}}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;subject&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Tines: EC2 Acquisition is finished&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;body&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pipeline has finished!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will send an email address to the email address given to the form, notifying the user the pipeline has finished.</p><p>You&#x27;ve now made the example workflow, to test it out, click on the <strong>Form</strong> tab in the story editor and submit. Once done, you&#x27;ll need to manually emit the form response in the <strong>EC2 Webhook</strong> action, by clicking and going to the <strong>Events</strong> tab in the right-hand sidebar, and clicking <strong>emit</strong> on the most recent held event.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/cado-security/product-help/tree/master/docs/cado-response/integrations/tines.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-11-10T15:25:04.000Z">11/10/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/cado-response/integrations/sentinelone"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->SentinelOne</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/cado-response/integrations/splunk-soar"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Splunk SOAR<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started-with-tines" class="table-of-contents__link toc-highlight">Getting Started with Tines</a><ul><li><a href="#contents" class="table-of-contents__link toc-highlight">Contents</a></li><li><a href="#creating-and-storing-an-api-access-key" class="table-of-contents__link toc-highlight">Creating and Storing an API Access Key</a></li><li><a href="#adding-your-platform-base-url" class="table-of-contents__link toc-highlight">Adding your Platform Base URL</a></li><li><a href="#adding-default-values" class="table-of-contents__link toc-highlight">Adding Default Values</a></li><li><a href="#testing-your-settings" class="table-of-contents__link toc-highlight">Testing your Settings</a></li></ul></li><li><a href="#list-of-actions" class="table-of-contents__link toc-highlight">List of Actions</a><ul><li><a href="#contents-1" class="table-of-contents__link toc-highlight">Contents</a></li><li><a href="#list-ec2-instances" class="table-of-contents__link toc-highlight">List EC2 Instances</a></li><li><a href="#list-s3-buckets" class="table-of-contents__link toc-highlight">List S3 Buckets</a></li><li><a href="#list-projects" class="table-of-contents__link toc-highlight">List Projects</a></li><li><a href="#list-project-pipelines" class="table-of-contents__link toc-highlight">List Project Pipelines</a></li><li><a href="#create-a-project" class="table-of-contents__link toc-highlight">Create a Project</a></li><li><a href="#retrieve-a-pipeline" class="table-of-contents__link toc-highlight">Retrieve a Pipeline</a></li><li><a href="#acquire-a-disk-image-from-ec2" class="table-of-contents__link toc-highlight">Acquire a Disk Image From EC2</a></li><li><a href="#acquire-a-disk-image-from-s3" class="table-of-contents__link toc-highlight">Acquire a Disk Image From S3</a></li></ul></li><li><a href="#creating-a-story-acquiring-an-ec2-instance" class="table-of-contents__link toc-highlight">Creating a Story: Acquiring an EC2 Instance</a><ul><li><a href="#contents-2" class="table-of-contents__link toc-highlight">Contents</a></li><li><a href="#creating-the-form" class="table-of-contents__link toc-highlight">Creating the Form</a></li><li><a href="#action-creating-the-project" class="table-of-contents__link toc-highlight">Action: Creating the Project</a></li><li><a href="#action-triggering-a-ec2-acquisition" class="table-of-contents__link toc-highlight">Action: Triggering a EC2 Acquisition</a></li><li><a href="#action-looping-over-pipeline-status" class="table-of-contents__link toc-highlight">Action: Looping over Pipeline Status</a></li><li><a href="#action-sending-an-email" class="table-of-contents__link toc-highlight">Action: Sending an Email</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/cadosecurity" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/cado-security" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 | Cado Security</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5b989c3c.js"></script>
<script src="/assets/js/main.8f4a4d40.js"></script>
</body>
</html>